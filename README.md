# Restore_FS
Restore file system structure from DFIR ORC triage.
This tool is designed to process NTFSInfo CSV files generated by DFIR ORC and restore the filesystem structure. 

**WARNING: This tool only works on Linux.**

## Workflow

- Scans the input directory to find NTFSInfo CSV files.
- Allows customization of the NTFSInfo file pattern through a script argument.
- Processes each NTFSInfo file found:
  - Constructs a dataframe from each NTFSInfo file.
  - Scans the parent directory recursively (default is two levels up) for files with a specific naming pattern.
  - Constructs a dataframe with all the files found, extracting file paths, FRN, and ParentFRN.
  - Joins the NTFSInfo dataframe with the volstats dataframe to map volume IDs to mount points.
  - Joins the NTFSInfo dataframe with the scanned files dataframe on VolumeID, ParentFRN, and FRN.
  - Restores the filesystem structure using the joined dataframes.

## Usage

### Command-Line Arguments

- `-i, --input`: Input file path (required)
- `-o, --output`: Output file path (required)
- `-d, --depth`: Optional scan depth for the parent directory (default is 2)
- `--ntfs-info-pattern`: Optional pattern for NTFSInfo files (default is `^NTFSInfo.*csv$`)

### Example Command

```bash
./Restore_FS -i /path/to/input -o /path/to/output --depth 3 --ntfs-info-pattern "^CustomNTFSInfo.*csv$"